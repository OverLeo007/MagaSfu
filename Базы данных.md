# Билет 1

## Понятие отношения, атрибута отношения, домена атрибута, кортежа. Связь с теоретико-множественной моделью.

---

## Отношение

- Отношение — это множество кортежей (строк), образующих таблицу в базе данных.
    
- Формально, отношение `R` определяется как подмножество декартова произведения доменов атрибутов:  
    `R ⊆ D1 × D2 × ... × Dn`
    

---

## Атрибут отношения

- Атрибут — это столбец в таблице, характеризующий отдельное свойство или характеристику объекта.
    
- Каждому атрибуту соответствует имя и домен значений.
    

---

## Домены атрибутов

- Домены — множества допустимых значений для каждого атрибута.
    
- Например, для атрибута "Возраст" домен может быть целыми числами от 0 до 150.
    

---

## Кортеж

- Кортеж — это упорядоченный набор значений, по одному для каждого атрибута.
    
- Представляет собой одну строку таблицы.
    

---

## Связь с теоретико-множественной моделью

- Отношение — подмножество декартова произведения доменов атрибутов (множеств).
    
- Кортежи — элементы этого подмножества.
    
- Атрибуты — параметры декартова произведения с фиксированными доменами.
    
- Все операции над отношениями базируются на теории множеств.
    

---

## Выводы

- Отношение — основная структура в реляционных базах данных, представленная таблицей.
    
- Атрибуты задают структуру таблицы и домены возможных значений.
    
- Кортежи — строки с конкретными значениями атрибутов.
    
- Теоретико-множественная модель обеспечивает формальную основу для реляционных операций.
# Билет 2

## Представление данных в реляционной модели. Понятие схемы базы данных. Понятие ключа-кандидата, первичного ключа, вторичного ключа.

---

## Представление данных в реляционной модели

- Данные представлены в виде **отношений** (таблиц), где строки — **кортежи**, столбцы — **атрибуты**.
    
- Каждое отношение имеет схему — набор атрибутов с их доменами.
    
- Таблицы не имеют упорядочивания строк и столбцов с точки зрения модели.
    

---

## Схема базы данных

- Схема базы данных — это совокупность схем всех отношений (таблиц), описывающих структуру данных и их взаимосвязи.
    
- Для каждой таблицы определяется набор атрибутов, типы данных и ограничения (например, ключи).
    

---

## Ключ-кандидат

- Ключ-кандидат — минимальный набор атрибутов, значения которого уникально идентифицируют каждый кортеж в отношении.
    
- Минимальный — нельзя убрать ни один атрибут без потери уникальности.
    

---

## Первичный ключ

- Первичный ключ — выбранный из множества ключей-кандидатов основной ключ для идентификации строк в таблице.
    
- Значения первичного ключа не могут быть `NULL`.
    

---

## Вторичный ключ

- Вторичный ключ (альтернативный ключ) — ключ-кандидат, не выбранный в качестве первичного.
    
- Может использоваться для поиска и ссылок, но не является главным идентификатором.
    

---

## Выводы

- Реляционная модель использует таблицы для представления данных.
    
- Схема базы данных описывает структуру таблиц и их атрибутов.
    
- Ключ-кандидаты обеспечивают уникальность записей.
    
- Первичный ключ — основной уникальный идентификатор, вторичные — альтернативные.
# Билет 3

## Реляционная алгебра. Операции проецирования, декартового произведения, соединения.

---

## Реляционная алгебра

- Формальный язык для работы с отношениями (таблицами) в реляционных базах данных.
    
- Позволяет строить новые отношения из существующих с помощью операций.
    
- Основа для написания запросов и теоретического анализа.
    

---

## Операция проецирования (Projection)

- Извлекает из отношения только указанные атрибуты (столбцы).
    
- Результат — отношение с подмножеством атрибутов исходного.
    
- Убирает дубликаты.
    

**Обозначение:**  
`π_{A1, A2, ...}(R)`

**Пример:**  
Из отношения `R(Имя, Возраст, Город)` получить только `Имя` и `Город`.

---

## Операция декартового произведения (Cartesian Product)

- Объединяет каждый кортеж из отношения `R` с каждым кортежем из отношения `S`.
    
- Результат — отношение с объединёнными атрибутами `R` и `S`.
    

**Обозначение:**  
`R × S`

**Пример:**  
`R(А, B)` и `S(C, D)` → `R × S(А, B, C, D)`

---

## Операция соединения (Join)

- Комбинирует кортежи из двух отношений по заданному условию совпадения значений атрибутов.
    
- Частный случай — естественное соединение, когда соединение происходит по атрибутам с одинаковыми именами.
    

**Обозначение:**  
`R ⨝_{условие} S`

**Пример:**  
Соединение `R` и `S` по равенству атрибутов `R.id = S.id`

---

## Выводы

- Реляционная алгебра оперирует отношениями через формальные операции.
    
- Проецирование выбирает столбцы, сокращая структуру.
    
- Декартово произведение создаёт все комбинации кортежей двух отношений.
    
- Соединение объединяет связанные кортежи из разных отношений по условию.
# Билет 4

## Нормализация баз данных. Нормальные формы отношений (1NF, 2NF, 3NF, BCNF и другие). Примеры. Денормализация. Примеры.

---

## Нормализация баз данных

- Процесс организации структуры базы данных для уменьшения избыточности и предотвращения аномалий обновления.
    
- Представляет собой разбиение отношений на более мелкие с сохранением связей.
    

---

## Первая нормальная форма (1NF)

- Все атрибуты содержат атомарные (неделимые) значения.
    
- Нет повторяющихся групп или множественных значений в одном атрибуте.
    

**Пример нарушения 1NF:**  
Таблица с атрибутом «Телефоны», содержащим список номеров в одной ячейке.

---

## Вторая нормальная форма (2NF)

- Отношение находится в 1NF.
    
- Все неключевые атрибуты полностью зависят от всего ключа, а не от части ключа (актуально для составных ключей).
    

**Пример:**  
Если ключ — (A, B), то атрибуты не должны зависеть только от A или только от B.

---

## Третья нормальная форма (3NF)

- Отношение находится во 2NF.
    
- Нет транзитивных зависимостей между неключевыми атрибутами (атрибут не зависит от другого неключевого атрибута).
    

---

## Нормальная форма Бойса-Кодда (BCNF)

- Ужесточение 3NF: для каждой функциональной зависимости `X → Y` множество `X` должно быть суперключом.
    
- Исключает все аномалии, которые могут остаться в 3NF.
    

---

## Пример нормализации

Исходная таблица:  
| ЗаказID | Клиент | Адрес клиента | Товар | Цена товара |

- 1NF: разделить списки товаров на отдельные строки
    
- 2NF: убрать зависимость адреса клиента от части ключа
    
- 3NF: убрать зависимость цены товара от другого неключевого атрибута (например, от товара)
    

---

## Денормализация

- Обратный процесс нормализации.
    
- Объединение таблиц для повышения производительности чтения и упрощения запросов.
    
- Может привести к избыточности данных и аномалиям обновления.
    

**Пример:**  
Включение адреса клиента прямо в таблицу заказов, чтобы избежать сложных соединений.

---

## Выводы

- Нормализация снижает избыточность и повышает целостность данных.
    
- 1NF — атомарность; 2NF — полная зависимость от ключа; 3NF — отсутствие транзитивных зависимостей; BCNF — строгий ключевой контроль.
    
- Денормализация применяется для оптимизации производительности, жертвуя нормализацией.
# Билет 5

## Понятие информационного объекта. Понятие атрибута информационного объекта. Виды связных отношений.

---

## Информационный объект

- Абстрактное представление сущности из предметной области, описываемое набором характеристик.
    
- Может соответствовать записи, объекту или концепту в базе данных.
    

---

## Атрибут информационного объекта

- Свойство или характеристика информационного объекта.
    
- Имеет имя и множество допустимых значений (домен).
    
- Атрибуты описывают свойства объекта (например, имя, дата рождения).
    

---

## Виды связных отношений

1. **Отношение «один к одному» (1:1)**
    
    - Каждому объекту из первого множества соответствует не более одного объекта из второго, и наоборот.
        
2. **Отношение «один ко многим» (1:N)**
    
    - Объект из первого множества связан с несколькими объектами из второго, но объект из второго — только с одним из первого.
        
3. **Отношение «многие ко многим» (M:N)**
    
    - Объекты из первого множества могут быть связаны с множеством объектов из второго и наоборот.
        

---

## Выводы

- Информационный объект — основная единица представления данных.
    
- Атрибуты характеризуют объекты, задавая свойства.
    
- Связные отношения описывают типы связей между объектами и задают структуру данных.
# Билет 6

## Понятия целостности базы данных, ограничений целостности (на значения столбцов, ссылочная, доменная и сущностная), транзакции и отката. Примеры.

---

## Целостность базы данных

- Свойство базы данных, гарантирующее корректность, непротиворечивость и согласованность данных в соответствии с заданными правилами и ограничениями.
    

---

## Ограничения целостности

1. **Ограничения на значения столбцов (атрибутов)**
    
    - Ограничивают допустимые значения в столбцах, например: `NOT NULL`, `CHECK`, уникальность (`UNIQUE`).
        
2. **Ссылочная целостность**
    
    - Обеспечивает корректность связей между таблицами через внешние ключи (`FOREIGN KEY`).
        
    - Гарантирует, что значение внешнего ключа существует в связанной таблице.
        
3. **Доменные ограничения**
    
    - Определяют допустимый диапазон значений для атрибута, например, тип данных, длина строки, формат.
        
4. **Сущностная целостность**
    
    - Обеспечивает уникальность и наличие идентификаторов (первичных ключей) в таблицах.
        
    - Значения первичного ключа не могут быть `NULL` и должны быть уникальны.
        

---

## Транзакции и откат

- **Транзакция** — последовательность операций над базой данных, которая должна выполняться полностью или не выполняться вовсе (атомарность).
    
- Обеспечивает свойства ACID (атомарность, согласованность, изолированность, долговечность).
    
- **Откат (rollback)** — операция возврата базы к состоянию до начала транзакции в случае ошибки.
    

---

## Примеры

- **Ограничение значения:**  
    `CHECK (Возраст >= 18)` — запрещает значения младше 18.
    
- **Ссылочная целостность:**  
    Таблица `Заказы` с внешним ключом на таблицу `Клиенты` гарантирует, что заказ принадлежит существующему клиенту.
    
- **Транзакция:**  
    При оформлении заказа сначала списывается товар, затем создаётся запись заказа. Если ошибка, изменения откатываются.
    

---

## Выводы

- Целостность базы данных — основа корректных и надежных данных.
    
- Ограничения контролируют допустимость данных и связи между ними.
    
- Транзакции обеспечивают целостность операций, предотвращая частичные изменения.
    
- Откат позволяет восстановить состояние базы при ошибках.
# Билет 7

## Понятие, структура и стандартизация языка SQL (DDL, DML, DCL, TCL). Конструкции на языке SQL. Достоинства и недостатки SQL.

---

## Понятие языка SQL

- SQL (Structured Query Language) — стандартный язык для управления реляционными базами данных.
    
- Позволяет создавать, изменять, управлять и получать данные из баз.
    

---

## Структура языка SQL и его подъязыки

1. **DDL (Data Definition Language)** — язык определения данных
    
    - Операции создания и изменения структуры базы:
        
    - Примеры: `CREATE`, `ALTER`, `DROP`
        
2. **DML (Data Manipulation Language)** — язык манипуляции данными
    
    - Операции добавления, изменения, удаления и выборки данных:
        
    - Примеры: `SELECT`, `INSERT`, `UPDATE`, `DELETE`
        
3. **DCL (Data Control Language)** — язык управления доступом
    
    - Операции управления правами пользователей:
        
    - Примеры: `GRANT`, `REVOKE`
        
4. **TCL (Transaction Control Language)** — язык управления транзакциями
    
    - Операции управления транзакциями:
        
    - Примеры: `COMMIT`, `ROLLBACK`, `SAVEPOINT`
        

---

## Примеры конструкций SQL (стандарт SQL:2016)

- Создание таблицы (DDL):
    

```sql
CREATE TABLE Клиенты (
    ID INT PRIMARY KEY,
    Имя VARCHAR(100) NOT NULL,
    Возраст INT CHECK (Возраст >= 0)
);
```

- Вставка данных (DML):
    

```sql
INSERT INTO Клиенты (ID, Имя, Возраст) VALUES (1, 'Иван', 30);
```

- Запрос выборки (DML):
    

```sql
SELECT Имя, Возраст FROM Клиенты WHERE Возраст > 25;
```

- Управление правами (DCL):
    

```sql
GRANT SELECT ON Клиенты TO Пользователь;
```

- Управление транзакциями (TCL):
    

```sql
BEGIN TRANSACTION;
UPDATE Клиенты SET Возраст = Возраст + 1 WHERE ID = 1;
COMMIT;
```

---

## Достоинства SQL

- Стандартизирован и широко поддерживается СУБД.
    
- Высокоуровневый язык с понятным синтаксисом.
    
- Позволяет эффективно работать с большими объёмами данных.
    
- Поддерживает мощные операции и агрегации.
    

---

## Недостатки SQL

- Меньшая гибкость по сравнению с процедурными языками.
    
- Различия в реализации стандартов у разных СУБД (диалекты).
    
- Не всегда эффективен для сложных процедур и бизнес-логики.
    
- Ограничен реляционной моделью, сложнее работать с неструктурированными данными.
    

---

## Выводы

- SQL — ключевой язык для реляционных БД, включающий несколько подъязыков.
    
- DDL, DML, DCL и TCL охватывают все аспекты работы с базами.
    
- Имеет множество преимуществ, но требует понимания ограничений и особенностей реализации.
# Билет 8

## Процедурные расширения языка SQL. Привести примеры запросов для каждого из подъязыков SQL.

---

## Процедурные расширения SQL

- Процедурные расширения добавляют в SQL возможность использования процедурного программирования:
    
    - Управляющие конструкции (условия, циклы)
        
    - Переменные и обработка ошибок
        
    - Процедуры, функции и триггеры
        
- Примеры стандартных расширений:
    
    - **PL/SQL** (Oracle)
        
    - **T-SQL** (Microsoft SQL Server)
        
    - **PL/pgSQL** (PostgreSQL)
        

---

## Примеры запросов по подъязыкам SQL

### 1. DDL (Data Definition Language) — создание таблицы

```sql
CREATE TABLE Сотрудники (
    ID INT PRIMARY KEY,
    Имя VARCHAR(50),
    Должность VARCHAR(50)
);
```

---

### 2. DML (Data Manipulation Language) — вставка и выборка данных

```sql
INSERT INTO Сотрудники (ID, Имя, Должность) VALUES (1, 'Анна', 'Менеджер');

SELECT Имя, Должность FROM Сотрудники WHERE Должность = 'Менеджер';
```

---

### 3. DCL (Data Control Language) — управление правами доступа

```sql
GRANT SELECT, INSERT ON Сотрудники TO user_readwrite;

REVOKE INSERT ON Сотрудники FROM user_readwrite;
```

---

### 4. TCL (Transaction Control Language) — управление транзакциями

```sql
BEGIN TRANSACTION;

UPDATE Сотрудники SET Должность = 'Старший менеджер' WHERE ID = 1;

COMMIT;
```

---

### 5. Процедурное расширение (пример на PL/pgSQL)

```plpgsql
DO $$
DECLARE
    emp_count INT;
BEGIN
    SELECT COUNT(*) INTO emp_count FROM Сотрудники WHERE Должность = 'Менеджер';
    IF emp_count > 10 THEN
        RAISE NOTICE 'Много менеджеров: %', emp_count;
    ELSE
        RAISE NOTICE 'Менеджеров немного: %', emp_count;
    END IF;
END
$$;
```

---

## Выводы

- Процедурные расширения делают SQL более мощным и гибким.
    
- Все подъязыки SQL служат разным целям: от определения структуры до управления данными и транзакциями.
    
- Практические примеры показывают базовые операции для каждого подъязыка.
# Билет 9

## Системы управления базами данных. Реляционные СУБД. Их отличия от NoSQL-решений.

---

## Системы управления базами данных (СУБД)

- Программное обеспечение для создания, управления и использования баз данных.
    
- Обеспечивает хранение, поиск, обновление и безопасность данных.
    
- Поддерживает запросы, транзакции и ограничения целостности.
    

---

## Реляционные СУБД

- Основаны на реляционной модели данных — данные представлены в виде таблиц (отношений).
    
- Используют язык SQL для управления и запросов.
    
- Обеспечивают строгую целостность данных и поддержку транзакций (ACID).
    
- Примеры: Oracle, MySQL, PostgreSQL, Microsoft SQL Server.
    

---

## NoSQL-решения

- Семейство систем, не основанных на реляционной модели.
    
- Классификации: документоориентированные, графовые, ключ-значение, колоночные.
    
- Гибкая схема данных, часто поддерживают горизонтальное масштабирование.
    
- Подходят для больших объёмов неструктурированных данных и высокой нагрузки.
    

---

## Отличия реляционных СУБД от NoSQL

|Характеристика|Реляционные СУБД|NoSQL|
|---|---|---|
|Модель данных|Табличная, фиксированная схема|Гибкая, разнообразные модели|
|Язык запросов|SQL|Разные API, запросы на JSON, графы и др.|
|Целостность данных|Строгие ACID-транзакции|Часто BASE (более слабые гарантии)|
|Масштабируемость|Вертикальная (увеличение ресурсов)|Горизонтальная (добавление узлов)|
|Применение|Транзакционные системы, финансы|Большие данные, соцсети, аналитика|

---

## Выводы

- СУБД — основа для управления данными в приложениях.
    
- Реляционные СУБД — классика с жёсткой схемой и мощным SQL.
    
- NoSQL предлагает гибкость и масштабируемость для современных распределённых систем.
    
- Выбор зависит от требований к данным, нагрузке и типу приложения.